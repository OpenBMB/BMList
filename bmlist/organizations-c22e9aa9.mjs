/*! build package in 2022/7/27 18:58:22 ! */
import{u as x,a as w,b as g}from"./useWaterMark-d5e3aee4.mjs";import{e as f,a as y,f as k,h as L,o as u,i as m,p as M,j as O,k as h,l as b}from"./entry-f6f371e6.mjs";const j=i=>(M("data-v-f0be9a42"),i=i(),O(),i),I={class:"model"},$=j(()=>h("div",{class:"chart-title"},"Model Numbers by Organizations",-1)),v=j(()=>h("div",{id:"model-container"},null,-1)),z=[$,v],S=y({__name:"Model",setup(i){let s,_,a;const d=async()=>new Promise(p=>{w().then(n=>{var e;_=(e=n[0])==null?void 0:e.last_updated;const r=n==null?void 0:n.reduce((t,o,c)=>(c==0||(t=[...t,...o.affiliation]),t),[]).reduce((t,o)=>((o.toLowerCase()==="facebook"||o.toLowerCase()==="meta")&&(o="Meta(Facebook)"),t[o]=t[o]?++t[o]:1,t),{});a=Object.fromEntries(Object.entries(r).sort((t,o)=>o[1]-t[1])),p({})})});return k(()=>{const p=g();setTimeout(async()=>{s=p.init(document.getElementById("model-container")),await d();const n={color:"#2f2efc",tooltip:{show:!0,trigger:"axis"},grid:{bottom:210,left:68,right:48},xAxis:{type:"category",data:Object.keys(a),min:-1,max:Object.keys(a).length,boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisTick:{show:!1,alignWithLabel:!0},axisLine:{show:!1},axisLabel:{rotate:90}},yAxis:{type:"value",interval:2,max(r){return r.max+1},splitLine:{show:!0,lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLine:{show:!1}},series:[{data:Object.values(a),type:"bar",barWidth:"60%",label:{show:!0,position:"outside"}}]};s.setOption(n),s.on("rendered",function(){x({domId:"model-container",text:_})}),window.addEventListener("resize",()=>{s.resize()})},1e3)}),L(()=>{s==null||s.dispose()}),(p,n)=>(u(),m("div",I,z))}});var B=f(S,[["__scopeId","data-v-f0be9a42"]]);const E=i=>(M("data-v-6eda3e19"),i=i(),O(),i),T={class:"parameter"},W=E(()=>h("div",{class:"chart-title"},"Model Parameters by Organizations",-1)),D=E(()=>h("div",{id:"param-container"},null,-1)),A=[W,D],C=y({__name:"Parameter",setup(i){let s,_,a,d;const p=async()=>new Promise(n=>{w().then(r=>{a=r==null?void 0:r.reduce((e,t,o)=>{var c;return o==0||(c=t.affiliation)==null||c.forEach(l=>{e[l]?(t.parameters_dense&&e[l].push(t.parameters_dense),t.parameters_MoE&&e[l].push(t.parameters_MoE)):(e[l]=[],t.parameters_dense&&e[l].push(t.parameters_dense),t.parameters_MoE&&e[l].push(t.parameters_MoE))}),e},{}),Object.keys(a).forEach(e=>{const t=a[e].map(o=>{const c=o==null?void 0:o.map(l=>Number(l.replace(/~/g,"").replace("B","")));return Math.max(...c)});a[e]=t.reduce((o,c)=>o+c,0)}),a["Meta(Facebook)"]=a.Meta+a.Facebook,delete a.Meta,delete a.Facebook,d=Object.fromEntries(Object.entries(a).sort((e,t)=>t[1]-e[1])),n(d)})});return k(()=>{const n=g();setTimeout(async()=>{s=n.init(document.getElementById("param-container")),await p();const r={color:"#2f2efc",tooltip:{show:!0,trigger:"axis",formatter(e){return`<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:#315efe;"></span> ${e[0].name} : ${Math.ceil(a[e[0].name]*100)/100} B `}},grid:{bottom:210,left:68,right:48},xAxis:{type:"category",min:-1,max:Object.keys(d).length,data:Object.keys(d),boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisTick:{show:!1,alignWithLabel:!0},axisLine:{show:!1},axisLabel:{rotate:90}},yAxis:{type:"value",interval:2,splitLine:{show:!0,lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!0,formatter(e){return`{a|2}{b|${e}}`},rich:{b:{fontSize:10,padding:[10,0,0,2]}}}},series:[{data:Object.values(d).map(e=>e<2?e:Math.ceil(Math.log2(e)*100)/100),type:"bar",barWidth:"60%",label:{show:!1,position:"outside",formatter(e){return Math.ceil(a[e.name]*100)/100}}}]};s.setOption(r),s.on("rendered",function(){x({domId:"param-container",text:_})}),window.addEventListener("resize",()=>{s.resize()})},1e3)}),L(()=>{s==null||s.dispose()}),(n,r)=>(u(),m("div",T,A))}});var F=f(C,[["__scopeId","data-v-6eda3e19"]]);const N={},P={class:"organization flex-col"};function U(i,s){const _=B,a=F;return u(),m("div",P,[b(_),b(a)])}var q=f(N,[["render",U],["__scopeId","data-v-475b2499"]]);export{q as default};
