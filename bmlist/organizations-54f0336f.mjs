/*! build package in 2022/7/29 17:31:32 ! */
import{e as m,a as L,r as k,y as M,z as O,A as j,B as S,o as x,i as y,l as c,C as $,D as z,u as _,p as b,t as B,v as E,x as T,j as v}from"./entry-18fbc0a2.mjs";import{u as W}from"./useData-2ac80d2a.mjs";const g=r=>(E("data-v-78c0c1ec"),r=r(),T(),r),A={class:"model"},I=g(()=>c("div",{class:"chart-title"},"Model Numbers by Organizations",-1)),D={style:{position:"relative"}},C=g(()=>c("div",{id:"model-container"},null,-1)),N={class:"watermark"},F=g(()=>c("br",null,null,-1)),G=b(" @OpenBMB "),P=L({__name:"Model",setup(r){let o,d=k(""),s;const n=async()=>new Promise(f=>{W().then(i=>{var e;d.value=(e=i[0])==null?void 0:e.last_updated;const l=i==null?void 0:i.reduce((t,a,p)=>(p==0||(t=[...t,...a.affiliation]),t),[]).reduce((t,a)=>((a.toLowerCase()==="facebook"||a.toLowerCase()==="meta")&&(a="Meta(Facebook)"),t[a]=t[a]?++t[a]:1,t),{});s=Object.fromEntries(Object.entries(l).sort((t,a)=>a[1]-t[1])),f({})})});return M(()=>{setTimeout(async()=>{o=O.init(document.getElementById("model-container")),await n();let f={color:"#2f2efc",tooltip:{show:!0,trigger:"axis"},grid:{bottom:210,left:68,right:48},xAxis:{type:"category",data:Object.keys(s),min:-1,max:Object.keys(s).length,boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisTick:{show:!1,alignWithLabel:!0},axisLine:{show:!1},axisLabel:{rotate:90}},yAxis:{type:"value",interval:2,max(l){return l.max+1},splitLine:{show:!0,lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLine:{show:!1}},series:[{data:Object.values(s),type:"bar",barWidth:"60%",label:{show:!0,position:"outside"}}]};j().value&&(f={color:"#2f2efc",tooltip:{show:!0,trigger:"axis",extraCssText:"transform:rotate(90deg)"},grid:{bottom:48,left:100,right:48},xAxis:{type:"value",position:"top",splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisLabel:{rotate:90}},yAxis:{type:"category",min:-1,max:Object.keys(s).length,boundaryGap:!1,data:Object.keys(s).reverse(),splitLine:{show:!0,lineStyle:{color:"#fff"}},axisLabel:{rotate:-45,fontSize:8}},series:[{data:Object.values(s).reverse(),type:"bar",barWidth:"60%"}]}),o.setOption(f),window.addEventListener("resize",()=>{o.resize()})},1e3)}),S(()=>{o==null||o.dispose()}),(f,i)=>(x(),y("div",A,[I,c("div",D,[C,$(c("div",N,[b(" Last updated: "+B(_(d))+" ",1),F,G],512),[[z,_(d)!=""]])])]))}});var U=m(P,[["__scopeId","data-v-78c0c1ec"]]);const w=r=>(E("data-v-305c2e38"),r=r(),T(),r),V={class:"parameter"},q=w(()=>c("div",{class:"chart-title"},"Model Parameters by Organizations",-1)),H={style:{position:"relative"}},J=w(()=>c("div",{id:"param-container"},null,-1)),K={class:"watermark"},Q=w(()=>c("br",null,null,-1)),R=b(" @OpenBMB "),X=L({__name:"Parameter",setup(r){let o,d=k(""),s,n;const f=async()=>new Promise(i=>{W().then(l=>{var e;d.value=(e=l[0])==null?void 0:e.last_updated,s=l==null?void 0:l.reduce((t,a,p)=>{var u;return p==0||(u=a.affiliation)==null||u.forEach(h=>{t[h]?(a.parameters_dense&&t[h].push(a.parameters_dense),a.parameters_MoE&&t[h].push(a.parameters_MoE)):(t[h]=[],a.parameters_dense&&t[h].push(a.parameters_dense),a.parameters_MoE&&t[h].push(a.parameters_MoE))}),t},{}),Object.keys(s).forEach(t=>{const a=s[t].map(p=>{const u=p==null?void 0:p.map(h=>Number(h.replace(/~/g,"").replace("B","")));return Math.max(...u)});s[t]=a.reduce((p,u)=>p+u,0)}),s["Meta(Facebook)"]=s.Meta+s.Facebook,delete s.Meta,delete s.Facebook,n=Object.fromEntries(Object.entries(s).sort((t,a)=>a[1]-t[1])),i(n)})});return M(()=>{setTimeout(async()=>{o=O.init(document.getElementById("param-container")),await f();let i={color:"#2f2efc",tooltip:{show:!0,trigger:"axis",formatter(e){return`<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:#315efe;"></span> ${e[0].name} : ${Math.ceil(s[e[0].name]*100)/100} B `}},grid:{bottom:210,left:68,right:48},xAxis:{type:"category",min:-1,max:Object.keys(n).length,data:Object.keys(n),boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisTick:{show:!1,alignWithLabel:!0},axisLine:{show:!1},axisLabel:{rotate:90}},yAxis:{type:"value",interval:2,splitLine:{show:!0,lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!0,formatter(e){return`{a|2}{b|${e}}`},rich:{b:{fontSize:10,padding:[10,0,0,2]}}}},series:[{data:Object.values(n).map(e=>e<2?e:Math.ceil(Math.log2(e)*100)/100),type:"bar",barWidth:"60%",label:{show:!1,position:"outside",formatter(e){return Math.ceil(s[e.name]*100)/100}}}]};j().value&&(i={color:"#2f2efc",tooltip:{show:!0,trigger:"axis",formatter(e){return`<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:#315efe;"></span> ${e[0].name} : ${Math.ceil(s[e[0].name]*100)/100} B `},extraCssText:"transform:rotate(90deg)"},grid:{bottom:48,left:100,right:48},xAxis:{type:"value",position:"top",splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisLabel:{show:!0,rotate:90,formatter(e){return`{a|2}{b|${e}}`},rich:{b:{fontSize:10,padding:[10,0,0,2]}}}},yAxis:{type:"category",min:-1,max:Object.keys(n).length,boundaryGap:!1,data:Object.keys(n).reverse(),splitLine:{show:!0,lineStyle:{color:"#fff"}},axisLabel:{rotate:-45,fontSize:8}},series:[{data:Object.values(n).map(e=>e<2?e:Math.ceil(Math.log2(e)*100)/100).reverse(),type:"bar",barWidth:"60%"}]}),o.setOption(i),window.addEventListener("resize",()=>{o.resize()})},1e3)}),S(()=>{o==null||o.dispose()}),(i,l)=>(x(),y("div",V,[q,c("div",H,[J,$(c("div",K,[b(" Last updated: "+B(_(d))+" ",1),Q,R],512),[[z,_(d)!=""]])])]))}});var Y=m(X,[["__scopeId","data-v-305c2e38"]]);const Z={},ee={class:"organization flex-col"};function te(r,o){const d=U,s=Y;return x(),y("div",ee,[v(d),v(s)])}var oe=m(Z,[["render",te],["__scopeId","data-v-475b2499"]]);export{oe as default};
