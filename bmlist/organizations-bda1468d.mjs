/*! build package in 2022/7/28 10:16:11 ! */
import{u as w,a as g,b as y}from"./useWaterMark-94dac869.mjs";import{e as u,a as k,f as L,h as M,o as m,i as b,p as O,j,k as f,l as x}from"./entry-b5e84022.mjs";const E=r=>(O("data-v-f0be9a42"),r=r(),j(),r),$={class:"model"},v=E(()=>f("div",{class:"chart-title"},"Model Numbers by Organizations",-1)),z=E(()=>f("div",{id:"model-container"},null,-1)),S=[v,z],B=k({__name:"Model",setup(r){let o,d,a;const _=async()=>new Promise(p=>{g().then(n=>{var s;d=(s=n[0])==null?void 0:s.last_updated;const i=n==null?void 0:n.reduce((e,t,c)=>(c==0||(e=[...e,...t.affiliation]),e),[]).reduce((e,t)=>((t.toLowerCase()==="facebook"||t.toLowerCase()==="meta")&&(t="Meta(Facebook)"),e[t]=e[t]?++e[t]:1,e),{});a=Object.fromEntries(Object.entries(i).sort((e,t)=>t[1]-e[1])),p({})})});return L(()=>{const p=y();setTimeout(async()=>{o=p.init(document.getElementById("model-container")),await _();const n={color:"#2f2efc",tooltip:{show:!0,trigger:"axis"},grid:{bottom:210,left:68,right:48},xAxis:{type:"category",data:Object.keys(a),min:-1,max:Object.keys(a).length,boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisTick:{show:!1,alignWithLabel:!0},axisLine:{show:!1},axisLabel:{rotate:90}},yAxis:{type:"value",interval:2,max(i){return i.max+1},splitLine:{show:!0,lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLine:{show:!1}},series:[{data:Object.values(a),type:"bar",barWidth:"60%",label:{show:!0,position:"outside"}}]};o.setOption(n),o.on("rendered",function(){w({domId:"model-container",text:d})}),window.addEventListener("resize",()=>{o.resize()})},1e3)}),M(()=>{o==null||o.dispose()}),(p,n)=>(m(),b("div",$,S))}});var T=u(B,[["__scopeId","data-v-f0be9a42"]]);const I=r=>(O("data-v-7729b6a4"),r=r(),j(),r),W={class:"parameter"},D=I(()=>f("div",{class:"chart-title"},"Model Parameters by Organizations",-1)),A=I(()=>f("div",{id:"param-container"},null,-1)),C=[D,A],F=k({__name:"Parameter",setup(r){let o,d,a,_;const p=async()=>new Promise(n=>{g().then(i=>{var s;d=(s=i[0])==null?void 0:s.last_updated,a=i==null?void 0:i.reduce((e,t,c)=>{var h;return c==0||(h=t.affiliation)==null||h.forEach(l=>{e[l]?(t.parameters_dense&&e[l].push(t.parameters_dense),t.parameters_MoE&&e[l].push(t.parameters_MoE)):(e[l]=[],t.parameters_dense&&e[l].push(t.parameters_dense),t.parameters_MoE&&e[l].push(t.parameters_MoE))}),e},{}),Object.keys(a).forEach(e=>{const t=a[e].map(c=>{const h=c==null?void 0:c.map(l=>Number(l.replace(/~/g,"").replace("B","")));return Math.max(...h)});a[e]=t.reduce((c,h)=>c+h,0)}),a["Meta(Facebook)"]=a.Meta+a.Facebook,delete a.Meta,delete a.Facebook,_=Object.fromEntries(Object.entries(a).sort((e,t)=>t[1]-e[1])),n(_)})});return L(()=>{const n=y();setTimeout(async()=>{o=n.init(document.getElementById("param-container")),await p();const i={color:"#2f2efc",tooltip:{show:!0,trigger:"axis",formatter(s){return`<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:#315efe;"></span> ${s[0].name} : ${Math.ceil(a[s[0].name]*100)/100} B `}},grid:{bottom:210,left:68,right:48},xAxis:{type:"category",min:-1,max:Object.keys(_).length,data:Object.keys(_),boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisTick:{show:!1,alignWithLabel:!0},axisLine:{show:!1},axisLabel:{rotate:90}},yAxis:{type:"value",interval:2,splitLine:{show:!0,lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!0,formatter(s){return`{a|2}{b|${s}}`},rich:{b:{fontSize:10,padding:[10,0,0,2]}}}},series:[{data:Object.values(_).map(s=>s<2?s:Math.ceil(Math.log2(s)*100)/100),type:"bar",barWidth:"60%",label:{show:!1,position:"outside",formatter(s){return Math.ceil(a[s.name]*100)/100}}}]};o.setOption(i),o.on("rendered",function(){w({domId:"param-container",text:d})}),window.addEventListener("resize",()=>{o.resize()})},1e3)}),M(()=>{o==null||o.dispose()}),(n,i)=>(m(),b("div",W,C))}});var N=u(F,[["__scopeId","data-v-7729b6a4"]]);const P={},U={class:"organization flex-col"};function G(r,o){const d=T,a=N;return m(),b("div",U,[x(d),x(a)])}var H=u(P,[["render",G],["__scopeId","data-v-475b2499"]]);export{H as default};
