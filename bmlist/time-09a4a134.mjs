/*! build package in 2022/8/3 14:29:55 ! */
import{a as y,b as O,r as j,f as $,h as B,E as T,i as I,o as x,j as g,k as d,w as W,v as z,u as f,l as m,t as A,p as D,m as E,y as k}from"./entry-f5baa1b3.mjs";import{u as F,a as N}from"./useState-775bb93e.mjs";const v=n=>(D("data-v-f2f0c3ae"),n=n(),E(),n),P={class:"model"},R=v(()=>d("div",{class:"chart-title"},"Model Numbers by Time",-1)),V={style:{position:"relative"}},q=v(()=>d("div",{id:"model-time-container"},null,-1)),C={class:"watermark"},H=v(()=>d("br",null,null,-1)),J=m(" @OpenBMB "),K=O({__name:"ModelTime",setup(n){let i,c=j(""),a;const p=F();p.value={loading:!0,isLoadFailed:!1};const u=$(),h=async()=>{var l;return fetch(`${(l=u==null?void 0:u.app)==null?void 0:l.baseURL}all_models.json`).then(s=>s.json()).then(s=>{var e;p.value={loading:!1,isLoadFailed:!1},c.value=(e=s==null?void 0:s[0])==null?void 0:e.last_updated,a=s==null?void 0:s.reduce((t,o,_)=>{if(_==0)return t;const r=o.release_date.substring(0,o.release_date.lastIndexOf("/"));return t[r]?t[r]={count:t[r].count+1,...o}:t[r]={count:1,...o},t},{})}).catch(()=>{a=[],p.value={loading:!0,isLoadFailed:!0}})};return B(()=>{setTimeout(async()=>{var e,t;i=T.init(document.getElementById("model-time-container")),await h();let l={color:"#2f2efc",tooltip:{show:!1,trigger:"axis"},grid:{bottom:80,left:68,right:48},xAxis:{type:"category",data:Object.keys(a),min:-1,max:Object.keys(a).length,boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisTick:{show:!1,alignWithLabel:!0},axisLine:{show:!1},axisLabel:{rotate:45}},yAxis:{type:"value",interval:2,max(o){return o.max+1},splitLine:{show:!0,lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLine:{show:!1}},series:[{data:(e=Object.values(a))==null?void 0:e.map(o=>o.count),type:"bar",barWidth:"60%",label:{show:!0,position:"outside"}}]};N().value&&(l={color:"#2f2efc",grid:{bottom:48,left:60,right:48},xAxis:{type:"value",position:"top",splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisLabel:{rotate:90}},yAxis:{type:"category",min:-1,max:Object.keys(a).length,boundaryGap:!1,data:Object.keys(a).reverse(),splitLine:{show:!0,lineStyle:{color:"#fff"}},axisLabel:{rotate:-60,fontSize:10}},series:[{data:(t=Object.values(a))==null?void 0:t.map(o=>o.count).reverse(),type:"bar",barWidth:"60%",label:{show:!0,position:"inside",rotate:-90}}]}),i.setOption(l),window.addEventListener("resize",()=>{i.resize()})},1e3)}),I(()=>{i==null||i.dispose()}),(l,s)=>(x(),g("div",P,[R,d("div",V,[q,W(d("div",C,[m(" Last updated: "+A(f(c))+" ",1),H,J],512),[[z,f(c)!=""]])])]))}});var Q=y(K,[["__scopeId","data-v-f2f0c3ae"]]);const w=n=>(D("data-v-ae64f46a"),n=n(),E(),n),X={class:"model"},Y=w(()=>d("div",{class:"chart-title"},"Model Parameters by Time",-1)),Z={style:{position:"relative"}},ee=w(()=>d("div",{id:"param-time-container"},null,-1)),te={class:"watermark"},ae=w(()=>d("br",null,null,-1)),se=m(" @OpenBMB "),oe=O({__name:"ParameterTime",setup(n){let i,c=j(""),a;const p=F();p.value={loading:!0,isLoadFailed:!1};const u=$(),h=async()=>{var l;return fetch(`${(l=u==null?void 0:u.app)==null?void 0:l.baseURL}all_models.json`).then(s=>s.json()).then(s=>{var e;p.value={loading:!1,isLoadFailed:!1},c.value=(e=s==null?void 0:s[0])==null?void 0:e.last_updated,a=s==null?void 0:s.reduce((t,o,_)=>{var S,M;if(_==0)return t;const r=o.release_date.substring(0,o.release_date.lastIndexOf("/")),U=[...(o==null?void 0:o.parameters_dense)||[],...(o==null?void 0:o.parameters_MoE)||[]].map(G=>Math.ceil(Number(G.replace("~","").replace("B","")))),b=Math.max.apply(null,U),L=[{...o,parameters:b}];return t[r]?t[r]={parameters:((S=t[r])==null?void 0:S.parameters)+b,data:[...(M=t[r])==null?void 0:M.data,...L]}:t[r]={parameters:b,data:L},t},{})}).catch(()=>{a=[],p.value={loading:!0,isLoadFailed:!0}})};return B(()=>{setTimeout(async()=>{i=T.init(document.getElementById("param-time-container")),await h();let l={color:"#2f2efc",tooltip:{show:!1,trigger:"axis"},grid:{bottom:80,left:68,right:48},xAxis:{type:"category",data:Object.keys(a),min:-1,max:Object.keys(a).length,boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisTick:{show:!1,alignWithLabel:!0},axisLine:{show:!1},axisLabel:{rotate:45}},yAxis:{type:"value",interval:2,max(e){return Math.ceil(e.max)+1},splitLine:{show:!0,lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!0,formatter(e){return`{a|2}{b|${e}}`},rich:{b:{fontSize:10,padding:[10,0,0,2]}}}},series:[{data:Object.values(a).map(e=>e.parameters<2?e.parameters:Math.ceil(Math.log2(e.parameters)*100)/100),type:"bar",barWidth:"60%",label:{show:!0,position:"outside",formatter(e){var t;return Math.ceil(((t=a[e.name])==null?void 0:t.parameters)*100)/100+" B"}}}]};N().value&&(l={color:"#2f2efc",grid:{bottom:48,left:60,right:48},xAxis:{type:"value",position:"top",splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisLabel:{rotate:90,show:!0,formatter(e){return`{a|2}{b|${e}}`},rich:{b:{fontSize:10,padding:[10,0,0,2]}}}},yAxis:{type:"category",min:-1,max:Object.keys(a).length,boundaryGap:!1,data:Object.keys(a).reverse(),splitLine:{show:!0,lineStyle:{color:"#fff"}},axisLabel:{rotate:-60,fontSize:10}},series:[{data:Object.values(a).map(e=>e.parameters<2?e.parameters:Math.ceil(Math.log2(e.parameters)*100)/100).reverse(),type:"bar",barWidth:"60%",label:{show:!0,position:"inside",rotate:-90,formatter(e){var t;return Math.ceil(((t=a[e.name])==null?void 0:t.parameters)*100)/100+" B"}}}]}),i.setOption(l),window.addEventListener("resize",()=>{i.resize()})},1e3)}),I(()=>{i==null||i.dispose()}),(l,s)=>(x(),g("div",X,[Y,d("div",Z,[ee,W(d("div",te,[m(" Last updated: "+A(f(c))+" ",1),ae,se],512),[[z,f(c)!==""]])])]))}});var ie=y(oe,[["__scopeId","data-v-ae64f46a"]]);const le={},ne={class:"time flex-col"};function re(n,i){const c=Q,a=ie;return x(),g("div",ne,[k(c),k(a)])}var pe=y(le,[["render",re],["__scopeId","data-v-5e159ec6"]]);export{pe as default};
