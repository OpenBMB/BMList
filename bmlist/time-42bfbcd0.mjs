/*! build package in 2022/7/29 17:06:09 ! */
import{e as h,a as O,r as S,y as k,z as j,A as B,B as $,o as b,i as y,l as c,C as T,D as I,u as p,p as m,t as W,v as z,x as A,j as M}from"./entry-3adb3e70.mjs";import{u as D}from"./useData-2ac80d2a.mjs";const x=l=>(z("data-v-432320ba"),l=l(),A(),l),P={class:"model"},G=x(()=>c("div",{class:"chart-title"},"Model Numbers by Time",-1)),U={style:{position:"relative"}},V=x(()=>c("div",{id:"model-time-container"},null,-1)),C={class:"watermark"},q=x(()=>c("br",null,null,-1)),F=m(" @OpenBMB "),H=O({__name:"ModelTime",setup(l){let i,d=S(""),a;const _=async()=>new Promise(n=>{D().then(o=>{var e;d.value=(e=o[0])==null?void 0:e.last_updated,a=o==null?void 0:o.reduce((t,s,u)=>{if(u==0)return t;const r=s.release_date.substring(0,s.release_date.lastIndexOf("/"));return t[r]?t[r]={count:t[r].count+1,...s}:t[r]={count:1,...s},t},{}),n(a)})});return k(()=>{setTimeout(async()=>{var e,t;i=j.init(document.getElementById("model-time-container")),await _();let n={color:"#2f2efc",tooltip:{show:!1,trigger:"axis"},grid:{bottom:80,left:68,right:48},xAxis:{type:"category",data:Object.keys(a),min:-1,max:Object.keys(a).length,boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisTick:{show:!1,alignWithLabel:!0},axisLine:{show:!1},axisLabel:{rotate:45}},yAxis:{type:"value",interval:2,max(s){return s.max+1},splitLine:{show:!0,lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLine:{show:!1}},series:[{data:(e=Object.values(a))==null?void 0:e.map(s=>s.count),type:"bar",barWidth:"60%",label:{show:!0,position:"outside"}}]};B().value&&(n={color:"#2f2efc",grid:{bottom:48,left:60,right:48},xAxis:{type:"value",position:"top",splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisLabel:{rotate:90}},yAxis:{type:"category",min:-1,max:Object.keys(a).length,boundaryGap:!1,data:Object.keys(a).reverse(),splitLine:{show:!0,lineStyle:{color:"#fff"}},axisLabel:{rotate:-60,fontSize:10}},series:[{data:(t=Object.values(a))==null?void 0:t.map(s=>s.count).reverse(),type:"bar",barWidth:"60%",label:{show:!0,position:"inside",rotate:-90}}]}),i.setOption(n),window.addEventListener("resize",()=>{i.resize()})},1e3)}),$(()=>{i==null||i.dispose()}),(n,o)=>(b(),y("div",P,[G,c("div",U,[V,T(c("div",C,[m(" Last updated: "+W(p(d))+" ",1),q,F],512),[[I,p(d)!=""]])])]))}});var J=h(H,[["__scopeId","data-v-432320ba"]]);const w=l=>(z("data-v-dfbee9d2"),l=l(),A(),l),K={class:"model"},Q=w(()=>c("div",{class:"chart-title"},"Model Parameters by Time",-1)),R={style:{position:"relative"}},X=w(()=>c("div",{id:"param-time-container"},null,-1)),Y={class:"watermark"},Z=w(()=>c("br",null,null,-1)),ee=m(" @OpenBMB "),te=O({__name:"ParameterTime",setup(l){let i,d=S(""),a;const _=async()=>new Promise(n=>{D().then(o=>{var e;d.value=(e=o[0])==null?void 0:e.last_updated,a=o==null?void 0:o.reduce((t,s,u)=>{var v,L;if(u==0)return t;const r=s.release_date.substring(0,s.release_date.lastIndexOf("/")),E=[...(s==null?void 0:s.parameters_dense)||[],...(s==null?void 0:s.parameters_MoE)||[]].map(N=>Math.ceil(Number(N.replace("~","").replace("B","")))),f=Math.max.apply(null,E),g=[{...s,parameters:f}];return t[r]?t[r]={parameters:((v=t[r])==null?void 0:v.parameters)+f,data:[...(L=t[r])==null?void 0:L.data,...g]}:t[r]={parameters:f,data:g},t},{}),n(a)})});return k(()=>{setTimeout(async()=>{i=j.init(document.getElementById("param-time-container")),await _();let n={color:"#2f2efc",tooltip:{show:!1,trigger:"axis"},grid:{bottom:80,left:68,right:48},xAxis:{type:"category",data:Object.keys(a),min:-1,max:Object.keys(a).length,boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisTick:{show:!1,alignWithLabel:!0},axisLine:{show:!1},axisLabel:{rotate:45}},yAxis:{type:"value",interval:2,max(e){return Math.ceil(e.max)+1},splitLine:{show:!0,lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!0,formatter(e){return`{a|2}{b|${e}}`},rich:{b:{fontSize:10,padding:[10,0,0,2]}}}},series:[{data:Object.values(a).map(e=>e.parameters<2?e.parameters:Math.ceil(Math.log2(e.parameters)*100)/100),type:"bar",barWidth:"60%",label:{show:!0,position:"outside",formatter(e){var t;return Math.ceil(((t=a[e.name])==null?void 0:t.parameters)*100)/100+" B"}}}]};B().value&&(n={color:"#2f2efc",grid:{bottom:48,left:60,right:48},xAxis:{type:"value",position:"top",splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisLabel:{rotate:90,show:!0,formatter(e){return`{a|2}{b|${e}}`},rich:{b:{fontSize:10,padding:[10,0,0,2]}}}},yAxis:{type:"category",min:-1,max:Object.keys(a).length,boundaryGap:!1,data:Object.keys(a).reverse(),splitLine:{show:!0,lineStyle:{color:"#fff"}},axisLabel:{rotate:-60,fontSize:10}},series:[{data:Object.values(a).map(e=>e.parameters<2?e.parameters:Math.ceil(Math.log2(e.parameters)*100)/100).reverse(),type:"bar",barWidth:"60%",label:{show:!0,position:"inside",rotate:-90,formatter(e){var t;return Math.ceil(((t=a[e.name])==null?void 0:t.parameters)*100)/100+" B"}}}]}),i.setOption(n),window.addEventListener("resize",()=>{i.resize()})},1e3)}),$(()=>{i==null||i.dispose()}),(n,o)=>(b(),y("div",K,[Q,c("div",R,[X,T(c("div",Y,[m(" Last updated: "+W(p(d))+" ",1),Z,ee],512),[[I,p(d)!==""]])])]))}});var ae=h(te,[["__scopeId","data-v-dfbee9d2"]]);const se={},ie={class:"time flex-col"};function oe(l,i){const d=J,a=ae;return b(),y("div",ie,[M(d),M(a)])}var re=h(se,[["render",oe],["__scopeId","data-v-5e159ec6"]]);export{re as default};
