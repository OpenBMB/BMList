/*! build package in 2022/7/28 16:08:56 ! */
import{u as g,a as y}from"./useWaterMark-e856eaeb.mjs";import{e as b,a as w,f as L,h as k,i as M,j as O,o as _,k as m,p as j,l as v,m as u,q as x}from"./entry-19ffd059.mjs";const S=r=>(j("data-v-0c150791"),r=r(),v(),r),E={class:"model"},z=S(()=>u("div",{class:"chart-title"},"Model Numbers by Organizations",-1)),I=S(()=>u("div",{id:"model-container"},null,-1)),W=[z,I],T=w({__name:"Model",setup(r){let s,p,o;const n=async()=>new Promise(f=>{y().then(i=>{var e;p=(e=i[0])==null?void 0:e.last_updated;const l=i==null?void 0:i.reduce((t,a,c)=>(c==0||(t=[...t,...a.affiliation]),t),[]).reduce((t,a)=>((a.toLowerCase()==="facebook"||a.toLowerCase()==="meta")&&(a="Meta(Facebook)"),t[a]=t[a]?++t[a]:1,t),{});o=Object.fromEntries(Object.entries(l).sort((t,a)=>a[1]-t[1])),f({})})});return L(()=>{setTimeout(async()=>{s=k.init(document.getElementById("model-container")),await n();let f={color:"#2f2efc",tooltip:{show:!0,trigger:"axis"},grid:{bottom:210,left:68,right:48},xAxis:{type:"category",data:Object.keys(o),min:-1,max:Object.keys(o).length,boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisTick:{show:!1,alignWithLabel:!0},axisLine:{show:!1},axisLabel:{rotate:90}},yAxis:{type:"value",interval:2,max(l){return l.max+1},splitLine:{show:!0,lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLine:{show:!1}},series:[{data:Object.values(o),type:"bar",barWidth:"60%",label:{show:!0,position:"outside"}}]};M().value&&(f={color:"#2f2efc",tooltip:{show:!0,trigger:"axis",extraCssText:"transform:rotate(90deg)"},grid:{bottom:48,left:100,right:48},xAxis:{type:"value",position:"top",splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisLabel:{rotate:90}},yAxis:{type:"category",min:-1,max:Object.keys(o).length,boundaryGap:!1,data:Object.keys(o).reverse(),splitLine:{show:!0,lineStyle:{color:"#fff"}},axisLabel:{rotate:-45,fontSize:8}},series:[{data:Object.values(o).reverse(),type:"bar",barWidth:"60%"}]}),s.setOption(f),s.on("rendered",function(){g({domId:"model-container",text:p})}),window.addEventListener("resize",()=>{s.resize()})},1e3)}),O(()=>{s==null||s.dispose()}),(f,i)=>(_(),m("div",E,W))}});var A=b(T,[["__scopeId","data-v-0c150791"]]);const $=r=>(j("data-v-0f8aea04"),r=r(),v(),r),B={class:"parameter"},C=$(()=>u("div",{class:"chart-title"},"Model Parameters by Organizations",-1)),D=$(()=>u("div",{id:"param-container"},null,-1)),F=[C,D],G=w({__name:"Parameter",setup(r){let s,p,o,n;const f=async()=>new Promise(i=>{y().then(l=>{var e;p=(e=l[0])==null?void 0:e.last_updated,o=l==null?void 0:l.reduce((t,a,c)=>{var h;return c==0||(h=a.affiliation)==null||h.forEach(d=>{t[d]?(a.parameters_dense&&t[d].push(a.parameters_dense),a.parameters_MoE&&t[d].push(a.parameters_MoE)):(t[d]=[],a.parameters_dense&&t[d].push(a.parameters_dense),a.parameters_MoE&&t[d].push(a.parameters_MoE))}),t},{}),Object.keys(o).forEach(t=>{const a=o[t].map(c=>{const h=c==null?void 0:c.map(d=>Number(d.replace(/~/g,"").replace("B","")));return Math.max(...h)});o[t]=a.reduce((c,h)=>c+h,0)}),o["Meta(Facebook)"]=o.Meta+o.Facebook,delete o.Meta,delete o.Facebook,n=Object.fromEntries(Object.entries(o).sort((t,a)=>a[1]-t[1])),i(n)})});return L(()=>{setTimeout(async()=>{s=k.init(document.getElementById("param-container")),await f();let i={color:"#2f2efc",tooltip:{show:!0,trigger:"axis",formatter(e){return`<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:#315efe;"></span> ${e[0].name} : ${Math.ceil(o[e[0].name]*100)/100} B `}},grid:{bottom:210,left:68,right:48},xAxis:{type:"category",min:-1,max:Object.keys(n).length,data:Object.keys(n),boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisTick:{show:!1,alignWithLabel:!0},axisLine:{show:!1},axisLabel:{rotate:90}},yAxis:{type:"value",interval:2,splitLine:{show:!0,lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!0,formatter(e){return`{a|2}{b|${e}}`},rich:{b:{fontSize:10,padding:[10,0,0,2]}}}},series:[{data:Object.values(n).map(e=>e<2?e:Math.ceil(Math.log2(e)*100)/100),type:"bar",barWidth:"60%",label:{show:!1,position:"outside",formatter(e){return Math.ceil(o[e.name]*100)/100}}}]};M().value&&(i={color:"#2f2efc",tooltip:{show:!0,trigger:"axis",formatter(e){return`<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:#315efe;"></span> ${e[0].name} : ${Math.ceil(o[e[0].name]*100)/100} B `},extraCssText:"transform:rotate(90deg)"},grid:{bottom:48,left:100,right:48},xAxis:{type:"value",position:"top",splitLine:{show:!0,lineStyle:{color:"#fff",alignWithLabel:!0}},axisLabel:{show:!0,rotate:90,formatter(e){return`{a|2}{b|${e}}`},rich:{b:{fontSize:10,padding:[10,0,0,2]}}}},yAxis:{type:"category",min:-1,max:Object.keys(n).length,boundaryGap:!1,data:Object.keys(n).reverse(),splitLine:{show:!0,lineStyle:{color:"#fff"}},axisLabel:{rotate:-45,fontSize:8}},series:[{data:Object.values(n).map(e=>e<2?e:Math.ceil(Math.log2(e)*100)/100).reverse(),type:"bar",barWidth:"60%"}]}),s.setOption(i),s.on("rendered",function(){g({domId:"param-container",text:p})}),window.addEventListener("resize",()=>{s.resize()})},1e3)}),O(()=>{s==null||s.dispose()}),(i,l)=>(_(),m("div",B,F))}});var N=b(G,[["__scopeId","data-v-0f8aea04"]]);const P={},U={class:"organization flex-col"};function V(r,s){const p=A,o=N;return _(),m("div",U,[x(p),x(o)])}var J=b(P,[["render",V],["__scopeId","data-v-475b2499"]]);export{J as default};
